<html>
	<head>
		<title>City Scroller</title>
		<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
		<script type="text/processing" data-processing-target="mycanvas">

        //since these are variables we don't want to ever change in the code, we capitalize them
        int WINDOW_WIDTH = 600;
        int WINDOW_HEIGHT = 400;

				int REFRESH_RATE_PER_SECOND = 30;
				int GREY = 204;
// i added a test building
 	Building testBuilding = new Building (0, 200);
	Building secondBuilding = new Building (0, 200);
	Building thirdBuilding = new Building (0,200);

        //This function only runs once at the start of the program
        void setup() {
          size(WINDOW_WIDTH, WINDOW_HEIGHT); //sets the size of the window
        frameRate(REFRESH_RATE_PER_SECOND); //how many times the draw function is called per second
        }

        //called repeatedly
        void draw() {
        	background(0,0,0); //needed in the draw function to "clear" the screen between updates

	  		//TODO:Call drawSkyline on your Skyline object
			//drawSkyline();

			testBuilding.moveBuilding();
			secondBuilding.moveBuilding();
			thirdBuilding.moveBuilding();
        }

		class Skyline {
			//attributes
			ArrayList<Building> buildingList;
			var xPosition;

			Skyline(){
				buildingList = new ArrayList<Building>();
				xPosition = 0;
			//when a Skyline is created it automatically has enough buildings to fill the screen
			}

			void moveSkyline(){
				//TODO:update and draw the skyline, add buildings as buildings leave the screen
				update();
				drawSkyline();
			}

				void drawSkyline()
				{
				for(var i = 0; i < buildingList.size(); i++) {
					Building Building = buildingList.get(i);
					currentBuilding.drawBuilding();
					currentBuilding.updateAndScroll();
				} //TODO:loop through buildingList and draw each Building
			}

			void addBuilding(){
					var buildingWidth = random(10,80);
					Building newBuilding = new Building(xPosition, buildingWidth);

					buildingList.add(newBuilding);

		 		xPosition += buildingWidth +5;
				}

	//			void update()
		//		{

			//	if (buildingX>640){
				//		add xPos();
					//}
		//}

        class Building {
					//attributes
        	var xPosition, yPosition, buildingHeight, buildingWidth, buildingColor;
//attributes on left, parameters on right
					Building (var xPos,var bY) {
					 buildingX = xPos;
					 buildingY = bY;
					 buildingHeight = 600-buildingY;
					 buildingWidth = random(30,70);
					}

					void drawBuilding(){
 	         fill(0,0,255);
 	         rect(buildingX, buildingY, buildingWidth, buildingHeight);
          }

					void update()
					{
					 buildingX ++;
			  		//if (buildingX>640){
					//add Building();
						//buildingX = -40;
				//}
				  }

					void moveBuilding()
					{
						update();
						drawBuilding();
					}
				}

        </script>
    </head>

    <body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>
